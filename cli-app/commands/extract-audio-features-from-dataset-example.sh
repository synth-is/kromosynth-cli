#!/bin/zsh

# start the feature extraction process:
# cd /Users/bjornpjo/Developer/apps/kromosynth-evaluate/evaluation/unsupervised
# /Users/bjornpjo/Developer/apps/kromosynth-evaluate/.venv/bin/python3 features.py --host localhost --port 31051 --models-path /Users/bjornpjo/Developer/apps/kromosynth-evaluate/measurements/models

# node extract-audio-features-from-dataset.js /Users/bjornpjo/Downloads/OneBillionWav /Users/bjornpjo/Downloads/OneBillionWav_features 44100 /Users/bjornpjo/.cache/torch/hub/checkpoints 'ws://localhost:31051' "020.wav,030.wav,040.wav,050.wav,060.wav,070.wav,080.wav,090.wav,100.wav"

kromosynth extract-features --dataset-folder /Users/bjornpjo/Downloads/evorenders --write-to-folder /Users/bjornpjo/Downloads/evofeatures --sample-rate 44100 --ckpt-dir /Users/bjornpjo/.cache/torch/hub/checkpoints --feature-extraction-server-host 'ws://localhost:31051' # --suffixes-filter "020.wav,030.wav,040.wav,050.wav,060.wav,070.wav,080.wav,090.wav,100.wav" --feature-types-filter "mfcc,mfcc-statistics"

# kromosynth extract-features --dataset-folder /Users/bjornpjo/Downloads/nsynth-valid/audio --write-to-folder /Users/bjornpjo/Downloads/audio-features/nsynth-valid-features_filtered --sample-rate 16000 --ckpt-dir /Users/bjornpjo/.cache/torch/hub/checkpoints --feature-extraction-server-host 'ws://localhost:31052' --feature-types-filter "mfcc,mfcc-statistics,vggish,vggishessentia,pann,panns-inference,discogs-effnet,msd-musicnn,clap,encodec,wav2vec,ast,manual-spectral_centroid,manual-spectral_spread,manual-spectral_skewness,manual-spectral_kurtosis,manual-spectral_rolloff,manual-spectral_decrease,manual-spectral_slope,manual-spectral_flux,manual-spectral_crest_factor,manual-spectral_flatness,manual-tonal_power_ratio,manual-max_autocorrelation,manual-zero_crossing_rate,manual-chroma_stft,manual-rms,manual-spectral_bandwidth,manual-spectral_contrast,spectral-shape-measures" --suffixes-filter "030-127.wav,040-127.wav,050-127.wav,060-127.wav,070-127.wav,080-127.wav,090-127.wav,030-127.wav" && kromosynth extract-features --dataset-folder /Users/bjornpjo/Downloads/nsynth-train/audio --write-to-folder /Users/bjornpjo/Downloads/audio-features/filtered/nsynth-train-features_filtered --sample-rate 16000 --ckpt-dir /Users/bjornpjo/.cache/torch/hub/checkpoints --feature-extraction-server-host 'ws://localhost:31052' --feature-types-filter "mfcc,mfcc-statistics,vggish,vggishessentia,pann,panns-inference,discogs-effnet,msd-musicnn,clap,encodec,wav2vec,ast,manual-spectral_centroid,manual-spectral_spread,manual-spectral_skewness,manual-spectral_kurtosis,manual-spectral_rolloff,manual-spectral_decrease,manual-spectral_slope,manual-spectral_flux,manual-spectral_crest_factor,manual-spectral_flatness,manual-tonal_power_ratio,manual-max_autocorrelation,manual-zero_crossing_rate,manual-chroma_stft,manual-rms,manual-spectral_bandwidth,manual-spectral_contrast,spectral-shape-measures" --suffixes-filter "030-127.wav,040-127.wav,050-127.wav,060-127.wav,070-127.wav,080-127.wav,090-127.wav,030-127.wav"

kromosynth extract-features --dataset-folder /Users/bjornpjo/Downloads/_OrchideaSOL2020_release/OrchideaSOL2020 --write-to-folder /Users/bjornpjo/Downloads/audio-features/filtered2/OrchideaSOL2020 --sample-rate 16000 --ckpt-dir /Users/bjornpjo/.cache/torch/hub/checkpoints --feature-extraction-server-host 'ws://localhost:31052' --feature-types-filter "mfcc,mfcc-statistics,vggish,vggishessentia,pann,panns-inference,discogs-effnet,msd-musicnn,clap,encodec,wav2vec,ast,manual-spectral_centroid,manual-spectral_spread,manual-spectral_skewness,manual-spectral_kurtosis,manual-spectral_rolloff,manual-spectral_decrease,manual-spectral_slope,manual-spectral_flux,manual-spectral_crest_factor,manual-spectral_flatness,manual-tonal_power_ratio,manual-max_autocorrelation,manual-zero_crossing_rate,manual-chroma_stft,manual-rms,manual-spectral_bandwidth,manual-spectral_contrast,spectral-shape-measures"

# --feature-types-filter "mfcc,mfcc-statistics,vggish,vggishessentia,pann,panns-inference,discogs-effnet,msd-musicnn,clap,encodec,wav2vec,ast,manual-spectral_centroid,manual-spectral_spread,manual-spectral_skewness,manual-spectral_kurtosis,manual-spectral_rolloff,manual-spectral_decrease,manual-spectral_slope,manual-spectral_flux,manual-spectral_crest_factor,manual-spectral_flatness,manual-tonal_power_ratio,manual-max_autocorrelation,manual-zero_crossing_rate,manual-chroma_stft,manual-rms,manual-spectral_bandwidth,manual-spectral_contrast,spectral-shape-measures"